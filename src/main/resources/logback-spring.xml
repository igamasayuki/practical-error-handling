<?xml version="1.0" encoding="UTF-8"?>
<configuration>
	<include resource="org/springframework/boot/logging/logback/base.xml" />

	<appender name="EMAIL" class="ch.qos.logback.classic.net.SMTPAppender">
		<filter class="ch.qos.logback.classic.filter.LevelFilter">
			<level>ERROR</level>
			<!-- ERRORだけの場合にメールを送る場合は以下の２行が必要 -->
			<!-- これが無いとERROR以下のログレベル全てにメールが送られてしまう -->
			<onMatch>ACCEPT</onMatch><!-- ERRORだった場合はログを出力する -->
			<onMismatch>DENY</onMismatch><!-- ERROR以外だった場合はログを出力しない -->
		</filter>
		<smtpHost>smtp.gmail.com</smtpHost>
		<smtpPort>465</smtpPort>
		<SSL>true</SSL>
		<username>xxxx@gmail.com</username>
		<password>xxxx</password>

		<to>xxxx@gmail.com</to>
		<from>xxxx@gmail.com</from>
		<subject>Logback SMTPAppender Sample</subject>

		<layout class="ch.qos.logback.classic.PatternLayout">
			<!-- patternタグの書き方は以下の公式サイトを参照する -->
			<!-- https://logback.qos.ch/manual/layouts_ja.html -->
			<pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%-5level] %logger{26} - %msg%n</pattern>
		</layout>
	</appender>

	<root>
		<level value="INFO" />
		<appender-ref ref="EMAIL" />
	</root>
</configuration>